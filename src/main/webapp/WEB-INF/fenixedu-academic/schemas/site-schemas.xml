<!--

    Copyright © 2002 Instituto Superior Técnico

    This file is part of FenixEdu Core.

    FenixEdu Core is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    FenixEdu Core is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License
    along with FenixEdu Core.  If not, see <http://www.gnu.org/licenses/>.

-->
<schema name="create.researchContract.internal" type="net.sourceforge.fenixedu.presentationTier.Action.webSiteManager.ResearchContractBean" bundle="WEBSITEMANAGER_RESOURCES">
  	<slot name="externalPerson" layout="radio-postback" key="label.person">
		<property name="classes" value="liinline nobullet"/>
		<property name="falseLabel" value="label.coordinator.thesis.edit.internalPerson"/>
		<property name="trueLabel" value="label.coordinator.thesis.edit.externalPerson"/>
		<property name="bundle" value="DEFAULT"/>
	</slot>
	<slot name="person" layout="autoComplete" validator="net.sourceforge.fenixedu.presentationTier.renderers.validators.RequiredAutoCompleteSelectionValidator">
		<property name="size" value="70"/>
		<property name="rawSlotName" value="personNameString"/>
		<property name="labelField" value="name"/>
		<property name="indicatorShown" value="true"/>
		<property name="provider" value="net.sourceforge.fenixedu.applicationTier.Servico.research.SearchPersonsForParticipations"/>
		<property name="args" value="slot=name"/>
		<property name="minChars" value="4"/>
	</slot>
	<slot name="begin"> 
		<validator class="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
		<validator class="pt.ist.fenixWebFramework.renderers.validators.DateValidator"/>
	</slot>
	<slot name="end">
		<validator class="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
		<validator class="pt.ist.fenixWebFramework.renderers.validators.DateValidator"/>
	</slot>
	<slot name="contractType" layout="menu-select" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="providerClass" value="net.sourceforge.fenixedu.presentationTier.renderers.providers.choiceType.replacement.single.ResearchContractResearchContractTypeProvider"/> 
		<property name="eachLayout" value=""/>
	</slot>
</schema>

<schema name="create.researchContract.external" type="net.sourceforge.fenixedu.presentationTier.Action.webSiteManager.ResearchContractBean" extends="create.researchContract.internal" bundle="WEBSITEMANAGER_RESOURCES">
	<slot name="person" layout="autoComplete">
		<property name="size" value="70"/>
		<property name="rawSlotName" value="personNameString"/>
		<property name="labelField" value="name"/>
		<property name="indicatorShown" value="true"/>
		<property name="provider" value="net.sourceforge.fenixedu.applicationTier.Servico.commons.searchers.SearchExternalPersons"/>
		<property name="args" value="slot=name"/>
		<property name="minChars" value="4"/>
	</slot>
</schema>


<schema name="view.researchContract" type="net.sourceforge.fenixedu.domain.organizationalStructure.ResearchContract" bundle="WEBSITEMANAGER_RESOURCES">
	<slot name="person.name" key="label.personName"/>
	<slot name="beginDate" key="label.begin"/>
	<slot name="endDate" layout="null-as-label" key="label.end">
		<property name="label" value="-"/>
		<property name="subLayout" value="default"/>
	</slot>
	<slot name="class" layout="label" key="label.contractType">
		<property name="bundle" value="WEBSITEMANAGER_RESOURCES"/>
	</slot>
</schema>

<schema name="person.in.contract" type="net.sourceforge.fenixedu.domain.organizationalStructure.ResearchContract" bundle="WEBSITEMANAGER_RESOURCES">
	<slot name="person" layout="conditional-link">
		<property name="visibleIf" value="homePageAvailable"/>
		<property name="contextRelative" value="true"/>
		<property name="linkFormat" value="/homepage/${istUsername}"/>	
		<property name="subLayout" value="values"/>
		<property name="subSchema" value="showNickName"/>
		<property name="blankTarget" value="true"/>
		<property name="hasContext" value="true"/>
	</slot>
</schema>

<schema name="edit.contract" type="net.sourceforge.fenixedu.domain.organizationalStructure.ResearchContract" bundle="DEFAULT">
	<slot name="person.name" read-only="true"/>
	<slot name="beginDate"/>
	<slot name="endDate"/>
</schema>


<schema name="research.contract.information" type="net.sourceforge.fenixedu.presentationTier.Action.webSiteManager.ResearchContractBean" bundle="WEBSITEMANAGER_RESOURCES">
	<slot name="personNameString"  key="label.personName"/>
	<slot name="begin"/>
	<slot name="end" layout="null-as-label">
		<property name="label" value="-"/>
		<property name="subLayout" value="default"/>
	</slot>
	<slot name="contractType"/>
</schema>	

<schema name="research.contract.extraInformation.for.externalPerson" type="net.sourceforge.fenixedu.presentationTier.Action.webSiteManager.ResearchContractBean" bundle="WEBSITEMANAGER_RESOURCES">
	<slot name="email" validator="pt.ist.fenixWebFramework.renderers.validators.EmailValidator" key="messaging.email.label">
		<property name="size" value="40"/>	
	</slot>
	<slot name="documentType" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="excludedValues" value="CITIZEN_CARD" />
	</slot>
	<slot name="documentIDNumber" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
</schema>	

<schema name="research.contract.extraInformation.for.internalPerson" type="net.sourceforge.fenixedu.presentationTier.Action.webSiteManager.ResearchContractBean" bundle="WEBSITEMANAGER_RESOURCES">
	<slot name="email" validator="pt.ist.fenixWebFramework.renderers.validators.EmailValidator" key="messaging.email.label">
		<property name="size" value="40"/>	
	</slot>
	<slot name="documentType" read-only="true"/>
	<slot name="documentIDNumber" read-only="true"/>
</schema>	

<schema name="site.functions.tree.unit" type="net.sourceforge.fenixedu.domain.organizationalStructure.Unit" bundle="SITE_RESOURCES">
	<slot name="nameI18n"/>
</schema>

<schema name="site.functions.tree.function" type="net.sourceforge.fenixedu.domain.organizationalStructure.Function" bundle="SITE_RESOURCES">
	<slot name="name"/>
</schema>

<schema name="site.functions.tree.personFunction" type="net.sourceforge.fenixedu.domain.organizationalStructure.PersonFunction" bundle="SITE_RESOURCES">
	<slot name="beginDate"/>
	<slot name="endDate"/>
</schema>

<schema name="site.functions.create.function" type="net.sourceforge.fenixedu.dataTransferObject.VariantBean" bundle="SITE_RESOURCES">
	<slot name="MLString" key="label.function.name" validator="pt.ist.fenixWebFramework.rendererExtensions.validators.RequiredMultiLanguageStringValidator">
		<property name="size" value="60"/>
	</slot>
</schema>

<schema name="site.functions.delete.function" type="net.sourceforge.fenixedu.domain.organizationalStructure.Function" bundle="SITE_RESOURCES">
	<slot name="name" key="label.function.name"/>
	<slot name="personFunctions" key="label.function.personFunctions" layout="null-as-label">
		<property name="label" value="message.function.persons.empty"/>
		<property name="key" value="true"/>
		<property name="bundle" value="SITE_RESOURCES"/>
		<property name="subLayout" value="list-personFunctions"/>
	</slot>
</schema>

<schema name="site.functions.personFunction.person" type="net.sourceforge.fenixedu.domain.organizationalStructure.PersonFunction" bundle="SITE_RESOURCES">
	<slot name="person" layout="name-with-alias"/>
</schema>

<schema name="site.functions.person.table" type="net.sourceforge.fenixedu.presentationTier.Action.webSiteManager.PersonFunctionsBean" bundle="SITE_RESOURCES">
	<slot name="person" layout="name-with-alias"/>
	<slot name="functions" key="label.function.functions" layout="flowLayout">
		<property name="emptyMessageKey" value="message.person.functions.empty"/>
		<property name="emptyMessageBundle" value="SITE_RESOURCES"/>
		<property name="htmlSeparator" value=", "/>
		<property name="eachInline" value="true"/>
		<property name="indented" value="false"/>
		<property name="eachLayout" value="values"/>
		<property name="eachSchema" value="site.functions.function.name"/>
	</slot>
</schema>

<schema name="site.functions.function.name" type="net.sourceforge.fenixedu.domain.organizationalStructure.Function" bundle="SITE_RESOURCES">
	<slot name="name"/>
</schema>

<schema name="site.functions.addPerson" type="net.sourceforge.fenixedu.dataTransferObject.VariantBean" bundle="SITE_RESOURCES">
	<slot name="string" key="label.username" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
</schema>

<schema name="site.functions.view.PersonFunctionsBean" type="net.sourceforge.fenixedu.presentationTier.Action.webSiteManager.PersonFunctionsBean" bundle="SITE_RESOURCES">
	<slot name="person" layout="name-with-alias"/>
</schema>

<schema name="site.functions.person.personFunction.create" type="net.sourceforge.fenixedu.domain.organizationalStructure.PersonFunction" bundle="SITE_RESOURCES"
        constructor="parentParty, childParty, accountabilityType:net.sourceforge.fenixedu.domain.organizationalStructure.Function, beginDate, endDate">
	<slot name="parentParty" hidden="true"/>
	<slot name="childParty" hidden="true"/>
	<slot name="accountabilityType" hidden="true"/>
	<slot name="beginDate" key="label.personFunction.beginDate" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="endDate" key="label.personFunction.endDate" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
</schema>

<schema name="site.functions.person.personFunction.edit" type="net.sourceforge.fenixedu.domain.organizationalStructure.PersonFunction" bundle="SITE_RESOURCES">
	<slot name="beginDate" key="label.personFunction.beginDate" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="endDate" key="label.personFunction.endDate" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<setter signature="setOccupationInterval(beginDate, endDate)"/>
</schema>

<schema name="unitSite.manager" type="net.sourceforge.fenixedu.domain.Person" bundle="SITE_RESOURCES">
    <slot name="username" key="label.alias"/>
    <slot name="name" key="label.name"/>
</schema>

<schema name="unitSite.tree.unit.name" type="net.sourceforge.fenixedu.domain.organizationalStructure.Unit">
    <slot name="nameWithAcronym"/>
</schema>

<schema name="degree.thesis.list.filter" type="net.sourceforge.fenixedu.presentationTier.Action.publico.ThesisFilterBean">
    <slot name="year" key="label.execution.year" layout="menu-select-postback">
    	<property name="providerClass" value="net.sourceforge.fenixedu.presentationTier.renderers.providers.ThesisExecutionYearsProvider"/>
    	<property name="format" value="${year}"/>
    	<property name="destination" value="listThesis"/>
    	<property name="defaultText" value="message.all"/>
    	<property name="key" value="true"/>
	</slot>
	<slot name="state" key="label.thesis.state" layout="menu-select-postback">
    	<property name="providerClass" value="net.sourceforge.fenixedu.presentationTier.renderers.providers.choiceType.replacement.single.ThesisStateProvider"/>
    	<property name="eachLayout" value=""/>
    	<property name="destination" value="listThesis"/>
    	<property name="defaultText" value="message.all"/>
    	<property name="key" value="true"/>
	</slot>
</schema>

<schema name="department.thesis.list.filter" type="net.sourceforge.fenixedu.presentationTier.Action.publico.ThesisFilterBean">
    <slot name="degree" key="label.Degree" layout="menu-select-postback">
    	<property name="providerClass" value="net.sourceforge.fenixedu.presentationTier.renderers.providers.DepartmentDegreesWithDissertationProvider"/>
    	<property name="format" value="${presentationName} (${sigla})"/>
    	<property name="destination" value="listThesis"/>
    	<property name="defaultText" value="message.all"/>
    	<property name="key" value="true"/>
	</slot>
    <slot name="year" key="label.execution.year" layout="menu-select-postback">
    	<property name="providerClass" value="net.sourceforge.fenixedu.presentationTier.renderers.providers.ThesisExecutionYearsProvider"/>
    	<property name="format" value="${year}"/>
    	<property name="destination" value="listThesis"/>
    	<property name="defaultText" value="message.all"/>
    	<property name="key" value="true"/>
	</slot>
	<slot name="state" key="label.thesis.state" layout="menu-select-postback">
    	<property name="providerClass" value="net.sourceforge.fenixedu.presentationTier.renderers.providers.choiceType.replacement.single.ThesisStateProvider"/>
    	<property name="eachLayout" value=""/>
    	<property name="destination" value="listThesis"/>
    	<property name="defaultText" value="message.all"/>
    	<property name="key" value="true"/>
	</slot>
</schema>

<schema name="public.thesis.details" type="net.sourceforge.fenixedu.domain.thesis.Thesis">
    <slot name="student.person" key="student" layout="name-with-alias"/>
    <slot name="state" key="label.thesis.state"/>
    <slot name="finalFullTitle" key="label.thesis.fullTitle"/>
    <slot name="thesisAbstract" key="label.thesis.abstract" layout="null-as-label">
    	<property name="label" value="label.thesis.abstract.notDefined"/>
    	<property name="key" value="true"/>
    </slot>
    <slot name="keywords" key="label.thesis.keywords" layout="null-as-label">
    	<property name="label" value="label.thesis.keywords.notDefined"/>
    	<property name="key" value="true"/>
    </slot>
</schema>

<schema name="public.thesis.coordinator" type="net.sourceforge.fenixedu.domain.thesis.ThesisEvaluationParticipant">
    <slot name="personNameWithLogin"/>
</schema>

<schema name="view.competence.courses" type="net.sourceforge.fenixedu.domain.CompetenceCourse">
    <slot name="name" layout="link">
    	<property name="useParent" value="true"/>
    	<property name="destination" value="view.competence.course"/>
    </slot>
</schema>

<schema name="view.person" type="net.sourceforge.fenixedu.domain.Person">
	<slot name="name" layout="conditional-link">
		<property name="visibleIf" value="homePageAvailable"/>
		<property name="useParent" value="true"/>
		<property name="contextRelative" value="true"/>
		<property name="linkFormat" value="/homepage/${istUsername}"/>	
		<property name="blankTarget" value="true"/>
		<property name="hasContext" value="true"/>
		<property name="hasChecksum" value="true"/>
	</slot>
	<slot name="personWorkPhone" layout="null-as-label">
		<property name="label" value="label.person.telephone"/>
		<property name="bundle" value="APPLICATION_RESOURCES"/>
		<property name="key" value="true"/>
		<property name="subLayout" value="values"/>
		<property name="subSchema" value="showPhone"/>
	</slot>
</schema>
<schema name="showPhone" type="net.sourceforge.fenixedu.domain.contacts.Phone" bundle="RESEARCHER_RESOURCES">
	<slot name="number" layout="prefixed">
		<property name="prefixKey" value="label.person.telephone"/>
		<property name="prefixBundle" value="APPLICATION_RESOURCES"/>
		<property name="subLayout" value="default"/>
	</slot>
</schema>

<schema name="personFunction.name" type="net.sourceforge.fenixedu.domain.organizationalStructure.PersonFunction" bundle="RESEARCHER_RESOURCES">
	<slot name="function.name"/>
</schema>